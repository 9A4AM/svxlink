<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Async: Async::Pty Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Async
   &#160;<span id="projectnumber">1.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAsync.html">Async</a></li><li class="navelem"><a class="el" href="classAsync_1_1Pty.html">Pty</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classAsync_1_1Pty-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Async::Pty Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A wrapper class for using a PTY.  
 <a href="classAsync_1_1Pty.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AsyncPty_8h_source.html">AsyncPty.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Async::Pty:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAsync_1_1Pty.png" usemap="#Async::Pty_map" alt=""/>
  <map id="Async::Pty_map" name="Async::Pty_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad865b9feaaf6a5b89178cec28811ea98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#ad865b9feaaf6a5b89178cec28811ea98">Pty</a> (const std::string &amp;slave_link=&quot;&quot;)</td></tr>
<tr class="memdesc:ad865b9feaaf6a5b89178cec28811ea98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ad865b9feaaf6a5b89178cec28811ea98">More...</a><br /></td></tr>
<tr class="separator:ad865b9feaaf6a5b89178cec28811ea98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae230ec01f5e095d2b5741e6312e1e0f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#ae230ec01f5e095d2b5741e6312e1e0f9">~Pty</a> (void)</td></tr>
<tr class="memdesc:ae230ec01f5e095d2b5741e6312e1e0f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ae230ec01f5e095d2b5741e6312e1e0f9">More...</a><br /></td></tr>
<tr class="separator:ae230ec01f5e095d2b5741e6312e1e0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a7025374337ee3722f307f9ea30c46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#aa9a7025374337ee3722f307f9ea30c46">open</a> (void)</td></tr>
<tr class="memdesc:aa9a7025374337ee3722f307f9ea30c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the PTY.  <a href="#aa9a7025374337ee3722f307f9ea30c46">More...</a><br /></td></tr>
<tr class="separator:aa9a7025374337ee3722f307f9ea30c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873919e77bcd035f9c982352dd4b036c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#a873919e77bcd035f9c982352dd4b036c">close</a> (void)</td></tr>
<tr class="memdesc:a873919e77bcd035f9c982352dd4b036c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the PTY if it's open.  <a href="#a873919e77bcd035f9c982352dd4b036c">More...</a><br /></td></tr>
<tr class="separator:a873919e77bcd035f9c982352dd4b036c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba73dc54537c553a2bec8e39d2dc23a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#aba73dc54537c553a2bec8e39d2dc23a9">reopen</a> (void)</td></tr>
<tr class="memdesc:aba73dc54537c553a2bec8e39d2dc23a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reopen the PTY.  <a href="#aba73dc54537c553a2bec8e39d2dc23a9">More...</a><br /></td></tr>
<tr class="separator:aba73dc54537c553a2bec8e39d2dc23a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab704e0e1fd7b811d68c15aad4b3c9fde"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#ab704e0e1fd7b811d68c15aad4b3c9fde">write</a> (const void *buf, size_t count)</td></tr>
<tr class="memdesc:ab704e0e1fd7b811d68c15aad4b3c9fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the PTY.  <a href="#ab704e0e1fd7b811d68c15aad4b3c9fde">More...</a><br /></td></tr>
<tr class="separator:ab704e0e1fd7b811d68c15aad4b3c9fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5302914deb72a172ae3df021bc7c54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#add5302914deb72a172ae3df021bc7c54">isOpen</a> (void) const </td></tr>
<tr class="memdesc:add5302914deb72a172ae3df021bc7c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the PTY is open or not.  <a href="#add5302914deb72a172ae3df021bc7c54">More...</a><br /></td></tr>
<tr class="separator:add5302914deb72a172ae3df021bc7c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aff9a5c51e2330d9f599769265a6d4342"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, const void *, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1Pty.html#aff9a5c51e2330d9f599769265a6d4342">dataReceived</a></td></tr>
<tr class="memdesc:aff9a5c51e2330d9f599769265a6d4342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that is emitted when data has been received.  <a href="#aff9a5c51e2330d9f599769265a6d4342">More...</a><br /></td></tr>
<tr class="separator:aff9a5c51e2330d9f599769265a6d4342"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A wrapper class for using a PTY. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Blomberg / SM0SVX </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2014-06-07</dd></dl>
<p>This class wrap up some functionality that is nice to have when using a PTY.</p>
<p>The PTY is opened in raw mode.</p>
<p>If the slave end of the PTY is not open, the master file descriptor will be continuously polled to detect when it is opened. When the slave end of the PTY is open, an <a class="el" href="classAsync_1_1FdWatch.html" title="A class for watching file descriptors. ">FdWatch</a> will be used to check for activity instead of polling.</p>
<p>Data written to the master end will be discarded if the slave end is not open. </p>

<p>Definition at line <a class="el" href="AsyncPty_8h_source.html#l00124">124</a> of file <a class="el" href="AsyncPty_8h_source.html">AsyncPty.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad865b9feaaf6a5b89178cec28811ea98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Async::Pty::Pty </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>slave_link</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a class="anchor" id="ae230ec01f5e095d2b5741e6312e1e0f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Async::Pty::~Pty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a873919e77bcd035f9c982352dd4b036c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Async::Pty::close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the PTY if it's open. </p>
<p>Close the PTY if it's open. This function is safe to call even if the PTY is not open or if it's just partly opened. </p>

</div>
</div>
<a class="anchor" id="add5302914deb72a172ae3df021bc7c54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Async::Pty::isOpen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the PTY is open or not. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <em>true</em> if the PTY has been successfully opened </dd></dl>

<p>Definition at line <a class="el" href="AsyncPty_8h_source.html#l00181">181</a> of file <a class="el" href="AsyncPty_8h_source.html">AsyncPty.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa9a7025374337ee3722f307f9ea30c46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Async::Pty::open </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the PTY. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <em>true</em> on success or <em>false</em> on failure</dd></dl>
<p>Use this function to open the PTY. If the PTY is already open it will be closed first. </p>

</div>
</div>
<a class="anchor" id="aba73dc54537c553a2bec8e39d2dc23a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Async::Pty::reopen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reopen the PTY. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <em>true</em> on success or <em>false</em> on failure</dd></dl>
<p>Try to reopen the PTY. On failure an error message will be printed and the PTY will stay closed. </p>

</div>
</div>
<a class="anchor" id="ab704e0e1fd7b811d68c15aad4b3c9fde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t Async::Pty::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to the PTY. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>A buffer containing the data to write </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, the number of bytes written is returned (zero indicates nothing was written). On error, -1 is returned, and errno is set appropriately.</dd></dl>
<p>Use this function to write data to the PTY. If the slave end of the PTY is not open, the written data will just be discarded and <em>count</em> is used as the return value. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aff9a5c51e2330d9f599769265a6d4342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void, const void*, size_t&gt; Async::Pty::dataReceived</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that is emitted when data has been received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>A buffer containing the received data </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes in the buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="AsyncPty_8h_source.html#l00188">188</a> of file <a class="el" href="AsyncPty_8h_source.html">AsyncPty.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="AsyncPty_8h_source.html">AsyncPty.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 22 2015 18:29:30 for Async by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
