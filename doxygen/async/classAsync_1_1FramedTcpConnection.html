<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Async: Async::FramedTcpConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Async
   &#160;<span id="projectnumber">1.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAsync.html">Async</a></li><li class="navelem"><a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classAsync_1_1FramedTcpConnection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Async::FramedTcpConnection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A TCP connection with framed instead of streamed content.  
 <a href="classAsync_1_1FramedTcpConnection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Async::FramedTcpConnection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAsync_1_1FramedTcpConnection.png" usemap="#Async::FramedTcpConnection_map" alt=""/>
  <map id="Async::FramedTcpConnection_map" name="Async::FramedTcpConnection_map">
<area href="classAsync_1_1TcpConnection.html" title="A class for handling exiting TCP connections. " alt="Async::TcpConnection" shape="rect" coords="0,56,182,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae96c851a42634929c7ad1cced42e8569"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#ae96c851a42634929c7ad1cced42e8569">FramedTcpConnection</a> (size_t recv_buf_len=<a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a>)</td></tr>
<tr class="memdesc:ae96c851a42634929c7ad1cced42e8569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ae96c851a42634929c7ad1cced42e8569">More...</a><br /></td></tr>
<tr class="separator:ae96c851a42634929c7ad1cced42e8569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af078a87051282b20e044288edf1c268c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#af078a87051282b20e044288edf1c268c">FramedTcpConnection</a> (int sock, const <a class="el" href="classAsync_1_1IpAddress.html">IpAddress</a> &amp;remote_addr, uint16_t remote_port, size_t recv_buf_len=<a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a>)</td></tr>
<tr class="memdesc:af078a87051282b20e044288edf1c268c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#af078a87051282b20e044288edf1c268c">More...</a><br /></td></tr>
<tr class="separator:af078a87051282b20e044288edf1c268c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0520cd608cfcc27c3bc42e042158a7c4"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#a0520cd608cfcc27c3bc42e042158a7c4">~FramedTcpConnection</a> (void)</td></tr>
<tr class="memdesc:a0520cd608cfcc27c3bc42e042158a7c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a0520cd608cfcc27c3bc42e042158a7c4">More...</a><br /></td></tr>
<tr class="separator:a0520cd608cfcc27c3bc42e042158a7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8c1454126b71f30e67c4d7c5b98de6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#a9f8c1454126b71f30e67c4d7c5b98de6">setMaxFrameSize</a> (uint32_t frame_size)</td></tr>
<tr class="memdesc:a9f8c1454126b71f30e67c4d7c5b98de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum frame size.  <a href="#a9f8c1454126b71f30e67c4d7c5b98de6">More...</a><br /></td></tr>
<tr class="separator:a9f8c1454126b71f30e67c4d7c5b98de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42cf1f76e24a81acc6ef0e6b7465dfb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#af42cf1f76e24a81acc6ef0e6b7465dfb">disconnect</a> (void)</td></tr>
<tr class="memdesc:af42cf1f76e24a81acc6ef0e6b7465dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect from the remote host.  <a href="#af42cf1f76e24a81acc6ef0e6b7465dfb">More...</a><br /></td></tr>
<tr class="separator:af42cf1f76e24a81acc6ef0e6b7465dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6db6415f208d7f433f8b246e6f6a8a"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#a9a6db6415f208d7f433f8b246e6f6a8a">write</a> (const void *buf, int count)</td></tr>
<tr class="memdesc:a9a6db6415f208d7f433f8b246e6f6a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a frame on the TCP connection.  <a href="#a9a6db6415f208d7f433f8b246e6f6a8a">More...</a><br /></td></tr>
<tr class="separator:a9a6db6415f208d7f433f8b246e6f6a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAsync_1_1TcpConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAsync_1_1TcpConnection')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAsync_1_1TcpConnection.html">Async::TcpConnection</a></td></tr>
<tr class="memitem:ae638911f865af2d2ba71a02a5009c6da inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#ae638911f865af2d2ba71a02a5009c6da">TcpConnection</a> (size_t recv_buf_len=<a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a>)</td></tr>
<tr class="memdesc:ae638911f865af2d2ba71a02a5009c6da inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ae638911f865af2d2ba71a02a5009c6da">More...</a><br /></td></tr>
<tr class="separator:ae638911f865af2d2ba71a02a5009c6da inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a788691251811e0bb5e5e001e314e2a3a inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a788691251811e0bb5e5e001e314e2a3a">TcpConnection</a> (int sock, const <a class="el" href="classAsync_1_1IpAddress.html">IpAddress</a> &amp;remote_addr, uint16_t remote_port, size_t recv_buf_len=<a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a>)</td></tr>
<tr class="memdesc:a788691251811e0bb5e5e001e314e2a3a inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a788691251811e0bb5e5e001e314e2a3a">More...</a><br /></td></tr>
<tr class="separator:a788691251811e0bb5e5e001e314e2a3a inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a39e0cbc30cae01ff4b98172be2ef0d inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a2a39e0cbc30cae01ff4b98172be2ef0d">~TcpConnection</a> (void)</td></tr>
<tr class="memdesc:a2a39e0cbc30cae01ff4b98172be2ef0d inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a2a39e0cbc30cae01ff4b98172be2ef0d">More...</a><br /></td></tr>
<tr class="separator:a2a39e0cbc30cae01ff4b98172be2ef0d inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78135fa483fed044b815fd362c477d9b inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a78135fa483fed044b815fd362c477d9b">setRecvBufLen</a> (size_t recv_buf_len)</td></tr>
<tr class="memdesc:a78135fa483fed044b815fd362c477d9b inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a new receive buffer size.  <a href="#a78135fa483fed044b815fd362c477d9b">More...</a><br /></td></tr>
<tr class="separator:a78135fa483fed044b815fd362c477d9b inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4072ea8aef1bdd369bacba2367e8660d inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAsync_1_1IpAddress.html">IpAddress</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a4072ea8aef1bdd369bacba2367e8660d">remoteHost</a> (void) const </td></tr>
<tr class="memdesc:a4072ea8aef1bdd369bacba2367e8660d inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the IP-address of the remote host.  <a href="#a4072ea8aef1bdd369bacba2367e8660d">More...</a><br /></td></tr>
<tr class="separator:a4072ea8aef1bdd369bacba2367e8660d inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4f658b73f32acc85c79671c2f50676 inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#acc4f658b73f32acc85c79671c2f50676">remotePort</a> (void) const </td></tr>
<tr class="memdesc:acc4f658b73f32acc85c79671c2f50676 inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the remote port used.  <a href="#acc4f658b73f32acc85c79671c2f50676">More...</a><br /></td></tr>
<tr class="separator:acc4f658b73f32acc85c79671c2f50676 inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31240d2c61277733d4aff2723be6a3c8 inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a31240d2c61277733d4aff2723be6a3c8">isConnected</a> (void) const </td></tr>
<tr class="memdesc:a31240d2c61277733d4aff2723be6a3c8 inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the connection is established or not.  <a href="#a31240d2c61277733d4aff2723be6a3c8">More...</a><br /></td></tr>
<tr class="separator:a31240d2c61277733d4aff2723be6a3c8 inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980895211150be9eca942e642700c5c1 inherit pub_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a980895211150be9eca942e642700c5c1">isIdle</a> (void) const </td></tr>
<tr class="memdesc:a980895211150be9eca942e642700c5c1 inherit pub_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the connection is idle.  <a href="#a980895211150be9eca942e642700c5c1">More...</a><br /></td></tr>
<tr class="separator:a980895211150be9eca942e642700c5c1 inherit pub_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:addc6347fcda80a2316f05f4607d4c2d0"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, <a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *, <a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#addc6347fcda80a2316f05f4607d4c2d0">disconnected</a></td></tr>
<tr class="memdesc:addc6347fcda80a2316f05f4607d4c2d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that is emitted when a connection has been terminated.  <a href="#addc6347fcda80a2316f05f4607d4c2d0">More...</a><br /></td></tr>
<tr class="separator:addc6347fcda80a2316f05f4607d4c2d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59386d3857cd97e270f1a27d7ce81c9"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, <a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *, std::vector&lt; uint8_t &gt; &amp; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#aa59386d3857cd97e270f1a27d7ce81c9">frameReceived</a></td></tr>
<tr class="memdesc:aa59386d3857cd97e270f1a27d7ce81c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that is emitted when a frame has been received on the connection.  <a href="#aa59386d3857cd97e270f1a27d7ce81c9">More...</a><br /></td></tr>
<tr class="separator:aa59386d3857cd97e270f1a27d7ce81c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classAsync_1_1TcpConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classAsync_1_1TcpConnection')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classAsync_1_1TcpConnection.html">Async::TcpConnection</a></td></tr>
<tr class="memitem:ae6bd7ae19bd8ffb964d23c766b262f1c inherit pub_attribs_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, <a class="el" href="classAsync_1_1TcpConnection.html">TcpConnection</a> *, <a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#ae6bd7ae19bd8ffb964d23c766b262f1c">disconnected</a></td></tr>
<tr class="memdesc:ae6bd7ae19bd8ffb964d23c766b262f1c inherit pub_attribs_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that is emitted when a connection has been terminated.  <a href="#ae6bd7ae19bd8ffb964d23c766b262f1c">More...</a><br /></td></tr>
<tr class="separator:ae6bd7ae19bd8ffb964d23c766b262f1c inherit pub_attribs_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764131427a3592c0c89ef81043fd9c1c inherit pub_attribs_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; int, <a class="el" href="classAsync_1_1TcpConnection.html">TcpConnection</a> *, void *, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a764131427a3592c0c89ef81043fd9c1c">dataReceived</a></td></tr>
<tr class="memdesc:a764131427a3592c0c89ef81043fd9c1c inherit pub_attribs_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that is emitted when data has been received on the connection.  <a href="#a764131427a3592c0c89ef81043fd9c1c">More...</a><br /></td></tr>
<tr class="separator:a764131427a3592c0c89ef81043fd9c1c inherit pub_attribs_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84888b8e088e9950e6fbd0f93d2bc6cc inherit pub_attribs_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a84888b8e088e9950e6fbd0f93d2bc6cc">sendBufferFull</a></td></tr>
<tr class="memdesc:a84888b8e088e9950e6fbd0f93d2bc6cc inherit pub_attribs_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that is emitted when the send buffer status changes.  <a href="#a84888b8e088e9950e6fbd0f93d2bc6cc">More...</a><br /></td></tr>
<tr class="separator:a84888b8e088e9950e6fbd0f93d2bc6cc inherit pub_attribs_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad54275c21e5f7efd104491e5a629b200"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#ad54275c21e5f7efd104491e5a629b200">onDisconnected</a> (<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a> reason)</td></tr>
<tr class="memdesc:ad54275c21e5f7efd104491e5a629b200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a connection has been terminated.  <a href="#ad54275c21e5f7efd104491e5a629b200">More...</a><br /></td></tr>
<tr class="separator:ad54275c21e5f7efd104491e5a629b200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa11879b37a61141aae86fb6c0c621cc"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#afa11879b37a61141aae86fb6c0c621cc">onDataReceived</a> (void *buf, int count)</td></tr>
<tr class="memdesc:afa11879b37a61141aae86fb6c0c621cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when data has been received on the connection.  <a href="#afa11879b37a61141aae86fb6c0c621cc">More...</a><br /></td></tr>
<tr class="separator:afa11879b37a61141aae86fb6c0c621cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classAsync_1_1TcpConnection"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classAsync_1_1TcpConnection')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAsync_1_1TcpConnection.html">Async::TcpConnection</a></td></tr>
<tr class="memitem:a4b31bcdba063384b6059acea4f698703 inherit pro_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a4b31bcdba063384b6059acea4f698703">setSocket</a> (int sock)</td></tr>
<tr class="memdesc:a4b31bcdba063384b6059acea4f698703 inherit pro_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup information about the connection.  <a href="#a4b31bcdba063384b6059acea4f698703">More...</a><br /></td></tr>
<tr class="separator:a4b31bcdba063384b6059acea4f698703 inherit pro_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a3e875db395126cc82ab5fe70f6f5d inherit pro_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#af7a3e875db395126cc82ab5fe70f6f5d">setRemoteAddr</a> (const <a class="el" href="classAsync_1_1IpAddress.html">IpAddress</a> &amp;remote_addr)</td></tr>
<tr class="memdesc:af7a3e875db395126cc82ab5fe70f6f5d inherit pro_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup information about the connection.  <a href="#af7a3e875db395126cc82ab5fe70f6f5d">More...</a><br /></td></tr>
<tr class="separator:af7a3e875db395126cc82ab5fe70f6f5d inherit pro_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1e774ff805f4aa4eaa618bfd3d19d4 inherit pro_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a8d1e774ff805f4aa4eaa618bfd3d19d4">setRemotePort</a> (uint16_t remote_port)</td></tr>
<tr class="memdesc:a8d1e774ff805f4aa4eaa618bfd3d19d4 inherit pro_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup information about the connection.  <a href="#a8d1e774ff805f4aa4eaa618bfd3d19d4">More...</a><br /></td></tr>
<tr class="separator:a8d1e774ff805f4aa4eaa618bfd3d19d4 inherit pro_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8420a87eaf51a479b3134ce4591908 inherit pro_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a4b8420a87eaf51a479b3134ce4591908">socket</a> (void) const </td></tr>
<tr class="memdesc:a4b8420a87eaf51a479b3134ce4591908 inherit pro_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the socket file descriptor.  <a href="#a4b8420a87eaf51a479b3134ce4591908">More...</a><br /></td></tr>
<tr class="separator:a4b8420a87eaf51a479b3134ce4591908 inherit pro_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af927e4bce67942723198be91d7ce93ee"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; int, <a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *, void *, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#af927e4bce67942723198be91d7ce93ee">dataReceived</a></td></tr>
<tr class="separator:af927e4bce67942723198be91d7ce93ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1b0f9d7a71b5eebf41e18730c16980"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1FramedTcpConnection.html#abd1b0f9d7a71b5eebf41e18730c16980">sendBufferFull</a></td></tr>
<tr class="separator:abd1b0f9d7a71b5eebf41e18730c16980"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classAsync_1_1TcpConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classAsync_1_1TcpConnection')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classAsync_1_1TcpConnection.html">Async::TcpConnection</a></td></tr>
<tr class="memitem:a2a09caf85797c567d0cfce6f29ab9dd4 inherit pub_types_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a> { <br />
&#160;&#160;<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4a25cf1e053ea4081403543766b7f40a34">DR_HOST_NOT_FOUND</a>, 
<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4a79d43f05e692e509a417526564b8c252">DR_REMOTE_DISCONNECTED</a>, 
<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4a2c3f459bfc34d34b5a421a523ae83d69">DR_SYSTEM_ERROR</a>, 
<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4a8496d475658432471f6a9d9b0424d5ce">DR_RECV_BUFFER_OVERFLOW</a>, 
<br />
&#160;&#160;<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4a8b97f3b0857415cc7ffad6620121c705">DR_ORDERED_DISCONNECT</a>, 
<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4a737631fa8fb5d3aa6dcc00f13008263b">DR_PROTOCOL_ERROR</a>
<br />
 }<tr class="memdesc:a2a09caf85797c567d0cfce6f29ab9dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reason code for disconnects.  <a href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a2a09caf85797c567d0cfce6f29ab9dd4 inherit pub_types_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classAsync_1_1TcpConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classAsync_1_1TcpConnection')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classAsync_1_1TcpConnection.html">Async::TcpConnection</a></td></tr>
<tr class="memitem:ab01a0120c01f97fa4ed8d935dbe4e291 inherit pub_static_methods_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#ab01a0120c01f97fa4ed8d935dbe4e291">disconnectReasonStr</a> (<a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a> reason)</td></tr>
<tr class="memdesc:ab01a0120c01f97fa4ed8d935dbe4e291 inherit pub_static_methods_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate disconnect reason to a string.  <a href="#ab01a0120c01f97fa4ed8d935dbe4e291">More...</a><br /></td></tr>
<tr class="separator:ab01a0120c01f97fa4ed8d935dbe4e291 inherit pub_static_methods_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classAsync_1_1TcpConnection"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classAsync_1_1TcpConnection')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classAsync_1_1TcpConnection.html">Async::TcpConnection</a></td></tr>
<tr class="memitem:a27f6e87af1a6d57eb4e3eed7a9f73a7b inherit pub_static_attribs_classAsync_1_1TcpConnection"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a> = 1024</td></tr>
<tr class="memdesc:a27f6e87af1a6d57eb4e3eed7a9f73a7b inherit pub_static_attribs_classAsync_1_1TcpConnection"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default length of the reception buffer.  <a href="#a27f6e87af1a6d57eb4e3eed7a9f73a7b">More...</a><br /></td></tr>
<tr class="separator:a27f6e87af1a6d57eb4e3eed7a9f73a7b inherit pub_static_attribs_classAsync_1_1TcpConnection"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A TCP connection with framed instead of streamed content. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Blomberg / SM0SVX </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2017-03-30</dd></dl>
<p>This class implements a framed TCP connection. It will make sure that the data given to one call to the write function will arrive at the other end in one piece or not at all. This makes it easier to implement message based protocols that only want to see completely transfered messages at the other end.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncCppApplication_8h.html">AsyncCppApplication.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncTcpClient_8h.html">AsyncTcpClient.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncFramedTcpConnection_8h.html">AsyncFramedTcpConnection.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceAsync.html">Async</a>;</div><div class="line"></div><div class="line"><span class="keyword">class </span>MyClass : <span class="keyword">public</span> sigc::trackable</div><div class="line">{</div><div class="line">  <span class="keyword">public</span>:</div><div class="line">    MyClass(<span class="keywordtype">void</span>)</div><div class="line">    {</div><div class="line">      con = <span class="keyword">new</span> <a class="code" href="classAsync_1_1TcpClient.html">TcpClient&lt;FramedTcpConnection&gt;</a>(<span class="stringliteral">&quot;localhost&quot;</span>, 12345);</div><div class="line">      con-&gt;<a class="code" href="classAsync_1_1TcpClientBase.html#a9bdc9d4aac93c0da3683419eb9e62891">connected</a>.connect(mem_fun(*<span class="keyword">this</span>, &amp;MyClass::onConnected));</div><div class="line">      con-&gt;disconnected.connect(mem_fun(*<span class="keyword">this</span>, &amp;MyClass::onDisconnected));</div><div class="line">      con-&gt;frameReceived.connect(mem_fun(*<span class="keyword">this</span>, &amp;MyClass::onFrameReceived));</div><div class="line">      con-&gt;connect();</div><div class="line">    }</div><div class="line"></div><div class="line">    ~MyClass(<span class="keywordtype">void</span>)</div><div class="line">    {</div><div class="line">      <span class="keyword">delete</span> con;</div><div class="line">    }</div><div class="line"></div><div class="line">  <span class="keyword">private</span>:</div><div class="line">    <a class="code" href="classAsync_1_1TcpClient.html">TcpClient&lt;FramedTcpConnection&gt;</a> *con;</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> onConnected(<span class="keywordtype">void</span>)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Connection established to &quot;</span> &lt;&lt; con-&gt;remoteHost() &lt;&lt; <span class="stringliteral">&quot;...\n&quot;</span>;</div><div class="line">      <span class="keywordtype">size_t</span> bufsize = 10000000;</div><div class="line">      <span class="keywordtype">char</span> *buf = <span class="keyword">new</span> <span class="keywordtype">char</span>[bufsize];</div><div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;bufsize; ++i) { buf[i] = i &amp; 0xff; }</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Sending 3x frames to the server...&quot;</span> &lt;&lt; endl;</div><div class="line">      con-&gt;write(buf, bufsize/4);</div><div class="line">      con-&gt;write(buf, bufsize/2);</div><div class="line">      con-&gt;write(buf, bufsize);</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Sending QUIT to server&quot;</span> &lt;&lt; endl;</div><div class="line">      con-&gt;write(<span class="stringliteral">&quot;QUIT&quot;</span>, 4);</div><div class="line">      <span class="keyword">delete</span> [] buf;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> <a class="code" href="classAsync_1_1FramedTcpConnection.html#ad54275c21e5f7efd104491e5a629b200">onDisconnected</a>(<a class="code" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *con,</div><div class="line">                        <a class="code" href="classAsync_1_1TcpClient.html">TcpClient&lt;FramedTcpConnection&gt;::DisconnectReason</a> reason)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Disconnected from &quot;</span> &lt;&lt; con-&gt;<a class="code" href="classAsync_1_1TcpConnection.html#a4072ea8aef1bdd369bacba2367e8660d">remoteHost</a>() &lt;&lt; <span class="stringliteral">&quot;...\n&quot;</span>;</div><div class="line">      <a class="code" href="classAsync_1_1Application.html#aa6d446d6b333e0a1e5cc1400c07aa898">Application::app</a>().<a class="code" href="classAsync_1_1Application.html#ac4b9e6a600d782f750992d86fee5cea3">quit</a>();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> onFrameReceived(<a class="code" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *con, vector&lt;uint8_t&gt;&amp; frame)</div><div class="line">    {</div><div class="line">      <span class="keywordtype">char</span> *str = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(frame.data());</div><div class="line">      <span class="keywordtype">string</span> html(str, str+frame.size());</div><div class="line">      cout &lt;&lt; html;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">  <a class="code" href="classAsync_1_1CppApplication.html">CppApplication</a> app;</div><div class="line">  MyClass my_class;</div><div class="line">  app.<a class="code" href="classAsync_1_1CppApplication.html#a9a921d33644bbb18767fb4d599f53bf4">exec</a>();</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncCppApplication_8h.html">AsyncCppApplication.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncTcpServer_8h.html">AsyncTcpServer.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncFramedTcpConnection_8h.html">AsyncFramedTcpConnection.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceAsync.html">Async</a>;</div><div class="line"></div><div class="line"><span class="keyword">class </span>MyClass : <span class="keyword">public</span> sigc::trackable</div><div class="line">{</div><div class="line">  <span class="keyword">public</span>:</div><div class="line">    MyClass(<span class="keywordtype">void</span>)</div><div class="line">    {</div><div class="line">      server = <span class="keyword">new</span> <a class="code" href="classAsync_1_1TcpServer.html">TcpServer&lt;FramedTcpConnection&gt;</a>(<span class="stringliteral">&quot;12345&quot;</span>);</div><div class="line">      server-&gt;<a class="code" href="classAsync_1_1TcpServer.html#a43e0fc6e52b9e0370f7eb33b93aad10d">clientConnected</a>.connect(</div><div class="line">          mem_fun(*<span class="keyword">this</span>, &amp;MyClass::onClientConnected));</div><div class="line">      server-&gt;clientDisconnected.connect(</div><div class="line">          mem_fun(*<span class="keyword">this</span>, &amp;MyClass::onClientDisconnected));</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Start AsyncFramedTcpClient_demo in another window to transfer &quot;</span></div><div class="line">              <span class="stringliteral">&quot;some frames to the server&quot;</span> &lt;&lt; endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    ~MyClass(<span class="keywordtype">void</span>)</div><div class="line">    {</div><div class="line">      <span class="keyword">delete</span> server;</div><div class="line">    }</div><div class="line"></div><div class="line">  <span class="keyword">private</span>:</div><div class="line">    <a class="code" href="classAsync_1_1TcpServer.html">TcpServer&lt;FramedTcpConnection&gt;</a> *server;</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> onClientConnected(<a class="code" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *con)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Client &quot;</span> &lt;&lt; con-&gt;<a class="code" href="classAsync_1_1TcpConnection.html#a4072ea8aef1bdd369bacba2367e8660d">remoteHost</a>() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div><div class="line">           &lt;&lt; con-&gt;<a class="code" href="classAsync_1_1TcpConnection.html#acc4f658b73f32acc85c79671c2f50676">remotePort</a>() &lt;&lt; <span class="stringliteral">&quot; connected, &quot;</span></div><div class="line">           &lt;&lt; server-&gt;<a class="code" href="classAsync_1_1TcpServerBase.html#a4f0a6d13b6d19855373974e9dff1d301">numberOfClients</a>() &lt;&lt; <span class="stringliteral">&quot; clients connected\n&quot;</span>;</div><div class="line">      con-&gt;<a class="code" href="classAsync_1_1FramedTcpConnection.html#aa59386d3857cd97e270f1a27d7ce81c9">frameReceived</a>.connect(mem_fun(*<span class="keyword">this</span>, &amp;MyClass::onFrameReceived));</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> onClientDisconnected(<a class="code" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *con,</div><div class="line">                              <a class="code" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">FramedTcpConnection::DisconnectReason</a> reason)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Client &quot;</span> &lt;&lt; con-&gt;<a class="code" href="classAsync_1_1TcpConnection.html#a4072ea8aef1bdd369bacba2367e8660d">remoteHost</a>().<a class="code" href="classAsync_1_1IpAddress.html#a7f9be3568547648ef7d2d73cd561dc45">toString</a>() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div><div class="line">           &lt;&lt; con-&gt;<a class="code" href="classAsync_1_1TcpConnection.html#acc4f658b73f32acc85c79671c2f50676">remotePort</a>() &lt;&lt; <span class="stringliteral">&quot; disconnected,&quot;</span></div><div class="line">           &lt;&lt; server-&gt;<a class="code" href="classAsync_1_1TcpServerBase.html#a4f0a6d13b6d19855373974e9dff1d301">numberOfClients</a>() &lt;&lt; <span class="stringliteral">&quot; clients connected\n&quot;</span>;</div><div class="line">      <span class="comment">/* Don&#39;t delete the con object, the TcpServer will do it */</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> onFrameReceived(<a class="code" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *con, std::vector&lt;uint8_t&gt;&amp; buf)</div><div class="line">    {</div><div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Received a frame with &quot;</span> &lt;&lt; buf.size() &lt;&lt; <span class="stringliteral">&quot; bytes of data\n&quot;</span>;</div><div class="line">      <span class="keywordflow">if</span> (buf.size() == 4)</div><div class="line">      {</div><div class="line">        std::string cmd(buf.begin(), buf.end());</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Quitting!\n&quot;</span>;</div><div class="line">        <a class="code" href="classAsync_1_1Application.html#aa6d446d6b333e0a1e5cc1400c07aa898">Application::app</a>().<a class="code" href="classAsync_1_1Application.html#ac4b9e6a600d782f750992d86fee5cea3">quit</a>();</div><div class="line">      }</div><div class="line">      <span class="keywordflow">else</span></div><div class="line">      {</div><div class="line">          <span class="comment">// Check content. Should be a repeating 0-255 series.</span></div><div class="line">        uint8_t next = 0;</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;buf.size(); ++i)</div><div class="line">        {</div><div class="line">          assert(buf[i] == next++);</div><div class="line">        }</div><div class="line">      }</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">  <a class="code" href="classAsync_1_1CppApplication.html">CppApplication</a> app;</div><div class="line">  MyClass my_class;</div><div class="line">  app.<a class="code" href="classAsync_1_1CppApplication.html#a9a921d33644bbb18767fb4d599f53bf4">exec</a>();</div><div class="line">}</div><div class="line"></div><div class="line"></div></div><!-- fragment --> <dl><dt><b>Examples: </b></dt><dd><a class="el" href="AsyncFramedTcpClient_demo_8cpp-example.html#_a2">AsyncFramedTcpClient_demo.cpp</a>, and <a class="el" href="AsyncFramedTcpServer_demo_8cpp-example.html#_a2">AsyncFramedTcpServer_demo.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00131">131</a> of file <a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae96c851a42634929c7ad1cced42e8569"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Async::FramedTcpConnection::FramedTcpConnection </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>recv_buf_len</em> = <code><a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recv_buf_len</td><td>The length of the receiver buffer to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af078a87051282b20e044288edf1c268c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Async::FramedTcpConnection::FramedTcpConnection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAsync_1_1IpAddress.html">IpAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>remote_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>remote_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>recv_buf_len</em> = <code><a class="el" href="classAsync_1_1TcpConnection.html#a27f6e87af1a6d57eb4e3eed7a9f73a7b">DEFAULT_RECV_BUF_LEN</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket for the connection to handle </td></tr>
    <tr><td class="paramname">remote_addr</td><td>The remote IP-address of the connection </td></tr>
    <tr><td class="paramname">remote_port</td><td>The remote TCP-port of the connection </td></tr>
    <tr><td class="paramname">recv_buf_len</td><td>The length of the receiver buffer to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0520cd608cfcc27c3bc42e042158a7c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Async::FramedTcpConnection::~FramedTcpConnection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af42cf1f76e24a81acc6ef0e6b7465dfb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Async::FramedTcpConnection::disconnect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disconnect from the remote host. </p>
<p>Call this function to disconnect from the remote host. If already disconnected, nothing will be done. The disconnected signal is not emitted when this function is called </p>

<p>Reimplemented from <a class="el" href="classAsync_1_1TcpConnection.html#a1917e67cc960edfe2597275b82e8dc6d">Async::TcpConnection</a>.</p>

<p>Referenced by <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00164">setMaxFrameSize()</a>.</p>

</div>
</div>
<a class="anchor" id="afa11879b37a61141aae86fb6c0c621cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Async::FramedTcpConnection::onDataReceived </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when data has been received on the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>A buffer containg the read data </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes in the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the number of processed bytes</dd></dl>
<p>This function is called when data has been received on this connection. The buffer will contain the bytes read from the operating system. The function will return the number of bytes that has been processed. The bytes not processed will be stored in the receive buffer for this class and presented again to the slot when more data arrives. The new data will be appended to the old data. The default action for this function is to emit the dataReceived signal. </p>

<p>Reimplemented from <a class="el" href="classAsync_1_1TcpConnection.html#a6b1b2a4a0b9f25000ec9e66629b39d3b">Async::TcpConnection</a>.</p>

</div>
</div>
<a class="anchor" id="ad54275c21e5f7efd104491e5a629b200"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Async::FramedTcpConnection::onDisconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a>&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when a connection has been terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reason</td><td>The reason for the disconnect</td></tr>
  </table>
  </dd>
</dl>
<p>This function will be called when the connection has been terminated. The default action for this function is to emit the disconnected signal. </p>

<p>Reimplemented from <a class="el" href="classAsync_1_1TcpConnection.html#a45849161a9da75fb4d1305af96844ca8">Async::TcpConnection</a>.</p>

</div>
</div>
<a class="anchor" id="a9f8c1454126b71f30e67c4d7c5b98de6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Async::FramedTcpConnection::setMaxFrameSize </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frame_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum frame size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_size</td><td>The maximum frame size in bytes</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to set the maximum allowed frame size. If a frame size number larger than this is received a disconnection is immediately issued. The default maximum frame size is DEFAULT_MAX_FRAME_SIZE. </p>

<p>Definition at line <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00164">164</a> of file <a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>.</p>

<p>References <a class="el" href="classAsync_1_1FramedTcpConnection.html#af42cf1f76e24a81acc6ef0e6b7465dfb">disconnect()</a>, and <a class="el" href="classAsync_1_1FramedTcpConnection.html#a9a6db6415f208d7f433f8b246e6f6a8a">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a6db6415f208d7f433f8b246e6f6a8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Async::FramedTcpConnection::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a frame on the TCP connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer containing the frame to send </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes in the frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return bytes written or -1 on failure</dd></dl>
<p>This function will send a frame of data on the TCP connection. The frame will either be completely transmitted or discarded on error. There is no inbetween so this function will always return either the given count or -1 on error. </p>

<p>Reimplemented from <a class="el" href="classAsync_1_1TcpConnection.html#ab5c868b685b1238a3d591c9f5ab9f7ee">Async::TcpConnection</a>.</p>

<p>Referenced by <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00164">setMaxFrameSize()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af927e4bce67942723198be91d7ce93ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;int, <a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *, void *, int&gt; Async::FramedTcpConnection::dataReceived</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00207">207</a> of file <a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>.</p>

</div>
</div>
<a class="anchor" id="addc6347fcda80a2316f05f4607d4c2d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void, <a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *, <a class="el" href="classAsync_1_1TcpConnection.html#a2a09caf85797c567d0cfce6f29ab9dd4">DisconnectReason</a>&gt; Async::FramedTcpConnection::disconnected</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A signal that is emitted when a connection has been terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>The connection object </td></tr>
    <tr><td class="paramname">reason</td><td>The reason for the disconnect </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00193">193</a> of file <a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa59386d3857cd97e270f1a27d7ce81c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void, <a class="el" href="classAsync_1_1FramedTcpConnection.html">FramedTcpConnection</a> *, std::vector&lt;uint8_t&gt;&amp;&gt; Async::FramedTcpConnection::frameReceived</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A signal that is emitted when a frame has been received on the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>A buffer containg the read data </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes in the buffer</td></tr>
  </table>
  </dd>
</dl>
<p>This signal is emitted when a frame has been received on this connection. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="AsyncFramedTcpServer_demo_8cpp-example.html#a6">AsyncFramedTcpServer_demo.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00204">204</a> of file <a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>.</p>

</div>
</div>
<a class="anchor" id="abd1b0f9d7a71b5eebf41e18730c16980"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void, bool&gt; Async::FramedTcpConnection::sendBufferFull</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncFramedTcpConnection_8h_source.html#l00208">208</a> of file <a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="AsyncFramedTcpConnection_8h_source.html">AsyncFramedTcpConnection.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 30 2017 18:48:45 for Async by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
