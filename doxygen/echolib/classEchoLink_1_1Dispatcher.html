<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EchoLib: EchoLink::Dispatcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EchoLib
   &#160;<span id="projectnumber">1.3.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceEchoLink.html">EchoLink</a></li><li class="navelem"><a class="el" href="classEchoLink_1_1Dispatcher.html">Dispatcher</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classEchoLink_1_1Dispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EchoLink::Dispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class for handling incoming connections and dispatch active connections.  
 <a href="classEchoLink_1_1Dispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="EchoLinkDispatcher_8h_source.html">EchoLinkDispatcher.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EchoLink::Dispatcher:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEchoLink_1_1Dispatcher.png" usemap="#EchoLink::Dispatcher_map" alt=""/>
  <map id="EchoLink::Dispatcher_map" name="EchoLink::Dispatcher_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae62d8713d3e4db4370e6af555f618171"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#ae62d8713d3e4db4370e6af555f618171">~Dispatcher</a> (void)</td></tr>
<tr class="memdesc:ae62d8713d3e4db4370e6af555f618171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ae62d8713d3e4db4370e6af555f618171">More...</a><br /></td></tr>
<tr class="separator:ae62d8713d3e4db4370e6af555f618171"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a969eb6f697f2c2055801ee463f7f8808"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#a969eb6f697f2c2055801ee463f7f8808">setPortBase</a> (int base)</td></tr>
<tr class="memdesc:a969eb6f697f2c2055801ee463f7f8808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port base for the two UDP ports.  <a href="#a969eb6f697f2c2055801ee463f7f8808">More...</a><br /></td></tr>
<tr class="separator:a969eb6f697f2c2055801ee463f7f8808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81343e255083c20a6adfec109a062f85"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#a81343e255083c20a6adfec109a062f85">setBindAddr</a> (const Async::IpAddress &amp;ip)</td></tr>
<tr class="memdesc:a81343e255083c20a6adfec109a062f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the bind address for the two UDP ports.  <a href="#a81343e255083c20a6adfec109a062f85">More...</a><br /></td></tr>
<tr class="separator:a81343e255083c20a6adfec109a062f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f851ece2c53eb2fe6e35720d630009"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classEchoLink_1_1Dispatcher.html">Dispatcher</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#a77f851ece2c53eb2fe6e35720d630009">instance</a> (void)</td></tr>
<tr class="memdesc:a77f851ece2c53eb2fe6e35720d630009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Singleton instance.  <a href="#a77f851ece2c53eb2fe6e35720d630009">More...</a><br /></td></tr>
<tr class="separator:a77f851ece2c53eb2fe6e35720d630009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf457b96ee5e929d63aaf01b62e535a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#aadf457b96ee5e929d63aaf01b62e535a">deleteInstance</a> (void)</td></tr>
<tr class="memdesc:aadf457b96ee5e929d63aaf01b62e535a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the singleton object if it exists.  <a href="#aadf457b96ee5e929d63aaf01b62e535a">More...</a><br /></td></tr>
<tr class="separator:aadf457b96ee5e929d63aaf01b62e535a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a66cfc55d8b0160f495af9294e8d4b789"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void, const Async::IpAddress &amp;, const std::string &amp;, const std::string &amp;, const std::string &amp; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#a66cfc55d8b0160f495af9294e8d4b789">incomingConnection</a></td></tr>
<tr class="memdesc:a66cfc55d8b0160f495af9294e8d4b789"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that is emitted when someone is trying to connect.  <a href="#a66cfc55d8b0160f495af9294e8d4b789">More...</a><br /></td></tr>
<tr class="separator:a66cfc55d8b0160f495af9294e8d4b789"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a25785244b50837725d1a9e6b67a4aaa0"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEchoLink_1_1Dispatcher.html#a25785244b50837725d1a9e6b67a4aaa0">Qso</a></td></tr>
<tr class="separator:a25785244b50837725d1a9e6b67a4aaa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for handling incoming connections and dispatch active connections. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Blomberg </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-03-30</dd></dl>
<p>This is a class that listens to incoming packets on the two <a class="el" href="namespaceEchoLink.html" title="Namespace to encapsulate EchoLink communication classes. ">EchoLink</a> UDP-ports. The incoming packets are dispatched to the associated connection object (<a class="el" href="classEchoLink_1_1Qso.html" title="A class for creating an EchoLink connection. ">EchoLink::Qso</a>), if it exists. If the connection does not exist, a signal will be emitted to indicate that an incoming connection is on its way. The <a class="el" href="classEchoLink_1_1Qso.html" title="A class for creating an EchoLink connection. ">Qso</a> objects will register themselfs automatically with the <a class="el" href="classEchoLink_1_1Dispatcher.html" title="A class for handling incoming connections and dispatch active connections. ">Dispatcher</a> upon creation.</p>
<p>This class is a Singleton object. That is, there can be only one object. The constructor is private so the only way to create a <a class="el" href="classEchoLink_1_1Dispatcher.html" title="A class for handling incoming connections and dispatch active connections. ">Dispatcher</a> object is to use the static method <a class="el" href="classEchoLink_1_1Dispatcher.html#a77f851ece2c53eb2fe6e35720d630009" title="Get the Singleton instance. ">Dispatcher::instance</a>. It will create a new object if it does not exist and return the object if it exists. On error, a NULL pointer will be returned.</p>
<p>Start your application by creating a <a class="el" href="classEchoLink_1_1Dispatcher.html" title="A class for handling incoming connections and dispatch active connections. ">Dispatcher</a> object. It will then start to listen to the <a class="el" href="namespaceEchoLink.html" title="Namespace to encapsulate EchoLink communication classes. ">EchoLink</a> ports for incoming connections. Also, be sure to check the returned pointer. If it is NULL, something went wrong. If it is not checked, you will have trouble later when creating <a class="el" href="classEchoLink_1_1Qso.html" title="A class for creating an EchoLink connection. ">Qso</a> objects. So, a typical start in your application would be something like the code below.</p>
<div class="fragment"></div><!-- fragment --> 
<p>Definition at line <a class="el" href="EchoLinkDispatcher_8h_source.html#l00144">144</a> of file <a class="el" href="EchoLinkDispatcher_8h_source.html">EchoLinkDispatcher.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae62d8713d3e4db4370e6af555f618171"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EchoLink::Dispatcher::~Dispatcher </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aadf457b96ee5e929d63aaf01b62e535a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void EchoLink::Dispatcher::deleteInstance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the singleton object if it exists. </p>

</div>
</div>
<a class="anchor" id="a77f851ece2c53eb2fe6e35720d630009"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classEchoLink_1_1Dispatcher.html">Dispatcher</a>* EchoLink::Dispatcher::instance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Singleton instance. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a dispatcher object. If the object does not already exist, a new object will be created. If the object can not be created, a NULL pointer is returned.</dd></dl>
<p>This function should be used to get access to the Singleton dispatcher object. Every time access to the dispatcher object is required, this function should be used to get the pointer. It is illegal to store it in a variable at program startup and then use that variable. It is possible that the dispatcher is deleted at some point in a program. The stored pointer would then be invalid. It is ok to use a local temporary variable to make access more convenient if no calls are made to other functions that access the dispatcher. </p>

</div>
</div>
<a class="anchor" id="a81343e255083c20a6adfec109a062f85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void EchoLink::Dispatcher::setBindAddr </td>
          <td>(</td>
          <td class="paramtype">const Async::IpAddress &amp;&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the bind address for the two UDP ports. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>The IP address to use</td></tr>
  </table>
  </dd>
</dl>
<p>This static function set the IP-address/interface to bind to for the two UDP communications ports. This may be necessary if the computer is fitted with more than one network interface and only one should be used for <a class="el" href="namespaceEchoLink.html" title="Namespace to encapsulate EchoLink communication classes. ">EchoLink</a>. This function may only be called when a dispatcher object does not exist. Typically, call this function before calling the <a class="el" href="classEchoLink_1_1Dispatcher.html#a77f851ece2c53eb2fe6e35720d630009" title="Get the Singleton instance. ">Dispatcher::instance</a> function for the first time. If this function is not called at all, the dispatcher will bind to all available interfaces. </p>

</div>
</div>
<a class="anchor" id="a969eb6f697f2c2055801ee463f7f8808"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void EchoLink::Dispatcher::setPortBase </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the port base for the two UDP ports. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>The port base to use</td></tr>
  </table>
  </dd>
</dl>
<p>This static function set the port base to use for the two UDP communications ports. This function may only be called when a dispatcher object does not exist. Typically, call this function before calling the <a class="el" href="classEchoLink_1_1Dispatcher.html#a77f851ece2c53eb2fe6e35720d630009" title="Get the Singleton instance. ">Dispatcher::instance</a> function for the first time. If this function is not called at all, the default ports will be used. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a25785244b50837725d1a9e6b67a4aaa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classEchoLink_1_1Qso.html">Qso</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EchoLinkDispatcher_8h_source.html#l00215">215</a> of file <a class="el" href="EchoLinkDispatcher_8h_source.html">EchoLinkDispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a66cfc55d8b0160f495af9294e8d4b789"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void, const Async::IpAddress&amp;, const std::string&amp;, const std::string&amp;, const std::string&amp;&gt; EchoLink::Dispatcher::incomingConnection</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A signal that is emitted when someone is trying to connect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callsign</td><td>The callsign of the connecting station </td></tr>
    <tr><td class="paramname">name</td><td>The name of the connecting station </td></tr>
    <tr><td class="paramname">priv</td><td>A private string for passing connection parameters</td></tr>
  </table>
  </dd>
</dl>
<p>This signal is emitted when a remote station tries to connect. It will be emitted every time a connect datagram is received. </p>

<p>Definition at line <a class="el" href="EchoLinkDispatcher_8h_source.html#l00210">210</a> of file <a class="el" href="EchoLinkDispatcher_8h_source.html">EchoLinkDispatcher.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="EchoLinkDispatcher_8h_source.html">EchoLinkDispatcher.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 22 2015 18:29:31 for EchoLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
